# ğŸ”¥ Firebase è¨­å®šåŸ·è¡Œæ¸…å–®

**ç¾åœ¨é–‹å§‹è¨­å®šï¼è«‹æŒ‰ç…§æ­¤æª¢æŸ¥æ¸…å–®é€æ­¥å®Œæˆ**

---

## âœ… ç¬¬ 1 æ­¥ï¼šå»ºç«‹ Firebase å°ˆæ¡ˆï¼ˆ5 åˆ†é˜ï¼‰

### æ“ä½œæ­¥é©Ÿï¼š

1. **Firebase Console å·²åœ¨ç€è¦½å™¨ä¸­é–‹å•Ÿ**
   - å¦‚æœªé–‹å•Ÿï¼Œå‰å¾€ï¼šhttps://console.firebase.google.com/

2. **å»ºç«‹æ–°å°ˆæ¡ˆ**
   - [ ] é»æ“Šã€Œ**æ–°å¢å°ˆæ¡ˆ**ã€æˆ–ã€Œ**Add project**ã€
   - [ ] å°ˆæ¡ˆåç¨±è¼¸å…¥ï¼š`lantern-festival-longxingtang`
   - [ ] é»æ“Šã€Œ**ç¹¼çºŒ**ã€
   - [ ] Google Analytics é¸æ“‡ã€Œ**åœç”¨**ã€ï¼ˆä¸éœ€è¦ï¼‰
   - [ ] é»æ“Šã€Œ**å»ºç«‹å°ˆæ¡ˆ**ã€
   - [ ] ç­‰å¾… 30 ç§’ï¼Œé»æ“Šã€Œ**ç¹¼çºŒ**ã€

3. **å•Ÿç”¨ Realtime Database**
   - [ ] å·¦å´é¸å–®ï¼šã€Œ**å»ºæ§‹**ã€â†’ã€Œ**Realtime Database**ã€
   - [ ] é»æ“Šã€Œ**å»ºç«‹è³‡æ–™åº«**ã€
   - [ ] è³‡æ–™åº«ä½ç½®ï¼šé¸æ“‡ã€Œ**asia-southeast1**ã€ï¼ˆæ–°åŠ å¡ï¼‰
   - [ ] é»æ“Šã€Œ**ä¸‹ä¸€æ­¥**ã€
   - [ ] å®‰å…¨æ€§è¦å‰‡ï¼šé¸æ“‡ã€Œ**é–å®šæ¨¡å¼**ã€
   - [ ] é»æ“Šã€Œ**å•Ÿç”¨**ã€

4. **è¨˜éŒ„ Database URL**
   
   ğŸ“ è«‹è¤‡è£½ä¸¦è¨˜éŒ„æ­¤ URLï¼ˆé é¢é ‚éƒ¨é¡¯ç¤ºï¼‰ï¼š
   ```
   ________________________________________________
   ```
   ç¯„ä¾‹ï¼š`https://lantern-festival-longxingtang-default-rtdb.firebaseio.com/`

âœ… **ç¬¬ 1 æ­¥å®Œæˆï¼**

---

## âœ… ç¬¬ 2 æ­¥ï¼šå•Ÿç”¨ Authenticationï¼ˆ3 åˆ†é˜ï¼‰

### æ“ä½œæ­¥é©Ÿï¼š

1. **å•Ÿç”¨ Email/Password ç™»å…¥**
   - [ ] å·¦å´é¸å–®ï¼šã€Œ**å»ºæ§‹**ã€â†’ã€Œ**Authentication**ã€
   - [ ] é»æ“Šã€Œ**é–‹å§‹ä½¿ç”¨**ã€
   - [ ] é¸æ“‡ã€Œ**Sign-in method**ã€æ¨™ç±¤
   - [ ] æ‰¾åˆ°ã€Œ**Email/Password**ã€ï¼Œé»æ“Šé€²å…¥
   - [ ] **å•Ÿç”¨ç¬¬ä¸€å€‹é–‹é—œ**ï¼ˆEmail/Passwordï¼‰
   - [ ] **ä¸è¦å•Ÿç”¨**é›»å­éƒµä»¶é€£çµ
   - [ ] é»æ“Šã€Œ**å„²å­˜**ã€

2. **å»ºç«‹ç®¡ç†è€…å¸³è™Ÿ**
   - [ ] é»æ“Šã€Œ**Users**ã€æ¨™ç±¤
   - [ ] é»æ“Šã€Œ**æ–°å¢ä½¿ç”¨è€…**ã€
   - [ ] é›»å­éƒµä»¶è¼¸å…¥ï¼š`admin@longxingtang.com`ï¼ˆæˆ–æ‚¨åå¥½çš„ï¼‰
   - [ ] å¯†ç¢¼è¼¸å…¥ï¼šè¨­å®šä¸€å€‹å¼·å¯†ç¢¼ï¼ˆè‡³å°‘ 8 å€‹å­—å…ƒï¼‰
   - [ ] é»æ“Šã€Œ**æ–°å¢ä½¿ç”¨è€…**ã€

3. **è¨˜éŒ„ç®¡ç†è€…å¸³è™Ÿ**
   
   ğŸ“ è«‹è¨˜éŒ„æ­¤å¸³è™Ÿï¼ˆ**è«‹å¦¥å–„ä¿ç®¡ï¼**ï¼‰ï¼š
   ```
   Email: ________________________________________________
   
   å¯†ç¢¼: ________________________________________________
   ```

âœ… **ç¬¬ 2 æ­¥å®Œæˆï¼**

---

## âœ… ç¬¬ 3 æ­¥ï¼šå–å¾— Firebase è¨­å®šï¼ˆ5 åˆ†é˜ï¼‰

### æ“ä½œæ­¥é©Ÿï¼š

1. **è¨»å†Š Web æ‡‰ç”¨ç¨‹å¼**
   - [ ] é»æ“Šå·¦ä¸Šè§’ã€Œ**âš™ï¸ é½’è¼ªåœ–ç¤º**ã€
   - [ ] é¸æ“‡ã€Œ**å°ˆæ¡ˆè¨­å®š**ã€
   - [ ] å‘ä¸‹æ²å‹•åˆ°ã€Œ**æ‚¨çš„æ‡‰ç”¨ç¨‹å¼**ã€å€å¡Š
   - [ ] é»æ“Šã€Œ**</>**ã€åœ–ç¤ºï¼ˆWeb æ‡‰ç”¨ç¨‹å¼ï¼‰
   - [ ] æ‡‰ç”¨ç¨‹å¼æš±ç¨±è¼¸å…¥ï¼š`lantern-festival-web`
   - [ ] **ä¸è¦å‹¾é¸** Firebase Hosting
   - [ ] é»æ“Šã€Œ**è¨»å†Šæ‡‰ç”¨ç¨‹å¼**ã€

2. **è¤‡è£½ Firebase Config**
   
   ä¸‹ä¸€å€‹ç•«é¢æœƒé¡¯ç¤ºé¡ä¼¼ä»¥ä¸‹çš„ç¨‹å¼ç¢¼ï¼š
   
   ```javascript
   const firebaseConfig = {
     apiKey: "AIza...",
     authDomain: "lantern-festival-longxingtang.firebaseapp.com",
     databaseURL: "https://lantern-festival-longxingtang-default-rtdb.firebaseio.com",
     projectId: "lantern-festival-longxingtang",
     storageBucket: "lantern-festival-longxingtang.appspot.com",
     messagingSenderId: "1234567890",
     appId: "1:1234567890:web:abc123def456"
   };
   ```
   
   - [ ] **å®Œæ•´è¤‡è£½**é€™ 7 è¡Œè¨­å®šå€¼
   - [ ] é»æ“Šã€Œ**ç¹¼çºŒå‰å¾€æ§åˆ¶å°**ã€

3. **æ›´æ–°å°ˆæ¡ˆè¨­å®šæª”**
   
   ğŸ“ **é‡è¦ï¼šè«‹å°‡è¤‡è£½çš„è¨­å®šè²¼åˆ°ä»¥ä¸‹ä½ç½®**
   
   æª”æ¡ˆï¼š`public/scripts/firebase-config.js`
   
   **å–ä»£é€™æ®µç¨‹å¼ç¢¼**ï¼š
   ```javascript
   const firebaseConfig = {
     apiKey: "YOUR_API_KEY",
     authDomain: "YOUR_PROJECT_ID.firebaseapp.com",
     databaseURL: "https://YOUR_PROJECT_ID-default-rtdb.firebaseio.com",
     projectId: "YOUR_PROJECT_ID",
     storageBucket: "YOUR_PROJECT_ID.appspot.com",
     messagingSenderId: "YOUR_MESSAGING_SENDER_ID",
     appId: "YOUR_APP_ID"
   };
   ```
   
   **æ”¹æˆæ‚¨å‰›æ‰è¤‡è£½çš„å¯¦éš›è¨­å®šå€¼**
   
   - [ ] é–‹å•Ÿæª”æ¡ˆ `public/scripts/firebase-config.js`
   - [ ] æ‰¾åˆ° `const firebaseConfig = {` å€å¡Š
   - [ ] è²¼ä¸Šæ‚¨çš„è¨­å®šå€¼
   - [ ] **å„²å­˜æª”æ¡ˆ**ï¼ˆCtrl+Sï¼‰

âœ… **ç¬¬ 3 æ­¥å®Œæˆï¼**

---

## âœ… ç¬¬ 4 æ­¥ï¼šéƒ¨ç½² Database Rulesï¼ˆ3 åˆ†é˜ï¼‰

### æ“ä½œæ­¥é©Ÿï¼š

1. **é–‹å•Ÿ Database Rules ç·¨è¼¯å™¨**
   - [ ] å›åˆ° Firebase Console
   - [ ] å·¦å´é¸å–®ï¼šã€Œ**å»ºæ§‹**ã€â†’ã€Œ**Realtime Database**ã€
   - [ ] é»æ“Šã€Œ**è¦å‰‡**ã€æ¨™ç±¤

2. **è¤‡è£½ä¸¦è²¼ä¸Šæ–°è¦å‰‡**
   
   - [ ] é–‹å•Ÿå°ˆæ¡ˆæª”æ¡ˆï¼š`firebase/database.rules.json`
   - [ ] **å®Œæ•´è¤‡è£½**æ•´å€‹æª”æ¡ˆå…§å®¹
   - [ ] å›åˆ° Firebase Console çš„è¦å‰‡ç·¨è¼¯å™¨
   - [ ] **é¸å–å…¨éƒ¨**ç¾æœ‰å…§å®¹ï¼ˆCtrl+Aï¼‰
   - [ ] **è²¼ä¸Š**æ–°è¦å‰‡ï¼ˆCtrl+Vï¼‰
   - [ ] é»æ“Šã€Œ**ç™¼å¸ƒ**ã€æŒ‰éˆ•
   - [ ] ç¢ºèªç™¼å¸ƒ

3. **é©—è­‰è¦å‰‡å·²æ›´æ–°**
   
   æ‡‰è©²çœ‹åˆ°é¡ä¼¼ä»¥ä¸‹çµæ§‹ï¼š
   ```json
   {
     "rules": {
       "registrations": { ... },
       "sponsors": { ... },
       "admins": { ... }
     }
   }
   ```

âœ… **ç¬¬ 4 æ­¥å®Œæˆï¼**

---

## âœ… ç¬¬ 5 æ­¥ï¼šæ¸¬è©¦ Firebase é€£ç·šï¼ˆ5 åˆ†é˜ï¼‰

### æ“ä½œæ­¥é©Ÿï¼š

1. **é‡æ–°å•Ÿå‹•é–‹ç™¼ä¼ºæœå™¨**
   
   ```powershell
   # åœ¨ PowerShell ä¸­åŸ·è¡Œ
   cd C:\Users\WPHung\Desktop\Template\public
   powershell -ExecutionPolicy Bypass -File start-server.ps1
   ```
   
   - [ ] åŸ·è¡Œä¸Šè¿°å‘½ä»¤
   - [ ] ç¢ºèªä¼ºæœå™¨å·²å•Ÿå‹•

2. **é–‹å•Ÿç€è¦½å™¨ä¸¦æª¢æŸ¥ Console**
   
   - [ ] é–‹å•Ÿç€è¦½å™¨ï¼šhttp://localhost:8000
   - [ ] æŒ‰ **F12** é–‹å•Ÿé–‹ç™¼è€…å·¥å…·
   - [ ] åˆ‡æ›åˆ°ã€Œ**Console**ã€æ¨™ç±¤
   - [ ] é‡æ–°æ•´ç†é é¢ï¼ˆF5ï¼‰

3. **é©—è­‰ Firebase åˆå§‹åŒ–æˆåŠŸ**
   
   âœ… **æ‡‰è©²çœ‹åˆ°**ï¼š
   ```
   Firebase initialized successfully
   Database URL: https://lantern-festival-longxingtang-default-rtdb.firebaseio.com
   Router initialized
   Application initialized successfully
   ```
   
   âŒ **ä¸æ‡‰è©²çœ‹åˆ°**ï¼š
   - `Firebase not configured`
   - `Permission denied`
   - ä»»ä½•ç´…è‰²éŒ¯èª¤è¨Šæ¯

4. **æ¸¬è©¦å ±ååŠŸèƒ½**
   
   - [ ] é»æ“Šé¦–é çš„ã€Œ**å‚³çµ±ä¹é¾œ**ã€
   - [ ] é»æ“Šã€Œ**å‰å¾€å ±å**ã€
   - [ ] å¡«å¯«æ¸¬è©¦è³‡æ–™ï¼š
     - å§“åï¼š`æ¸¬è©¦ä½¿ç”¨è€…`
     - é›»è©±ï¼š`0912345678`
     - é¸æ“‡ 1-3 å€‹æ‹›è²¡éŒ¢é¾œï¼ˆä¾‹å¦‚ï¼šé®æ®¿ä½›ç¥–ï¼‰
   - [ ] é»æ“Šã€Œ**æäº¤å ±å**ã€
   
   âœ… **æ‡‰è©²çœ‹åˆ°**ï¼š
   - ç¶ è‰²æˆåŠŸè¨Šæ¯ï¼šã€Œå ±åæˆåŠŸï¼æ„Ÿè¬æ‚¨çš„åƒèˆ‡...ã€
   - è¡¨å–®å·²æ¸…ç©º

5. **é©—è­‰è³‡æ–™å·²å„²å­˜åˆ° Firebase**
   
   - [ ] å›åˆ° Firebase Console
   - [ ] å‰å¾€ã€Œ**Realtime Database**ã€â†’ã€Œ**è³‡æ–™**ã€æ¨™ç±¤
   - [ ] å±•é–‹ `registrations` ç¯€é»
   
   âœ… **æ‡‰è©²çœ‹åˆ°**ï¼š
   ```
   registrations
     â””â”€ -Nxxx... (éš¨æ©ŸID)
         â”œâ”€ name: "æ¸¬è©¦ä½¿ç”¨è€…"
         â”œâ”€ phone: "0912345678"
         â”œâ”€ selectedTurtles
         â”‚   â””â”€ 0: "é®æ®¿ä½›ç¥–æ‹›è²¡éŒ¢é¾œ"
         â”œâ”€ turtleCount: 1
         â”œâ”€ timestamp: 1730356800000
         â””â”€ createdAt: "2025-10-31T..."
   ```

6. **æ¸¬è©¦ç®¡ç†è€…ç™»å…¥**
   
   - [ ] é»æ“Šç¶²ç«™å³ä¸Šè§’ã€Œ**ç®¡ç†å¾Œå°**ã€é€£çµ
   - [ ] è¼¸å…¥ç¬¬ 2 æ­¥å»ºç«‹çš„ç®¡ç†è€…å¸³è™Ÿ
   - [ ] é»æ“Šã€Œ**ç™»å…¥**ã€
   
   âœ… **æ‡‰è©²çœ‹åˆ°**ï¼š
   - æˆåŠŸç™»å…¥å¾Œå°
   - å ±åæ¸…å–®é¡¯ç¤ºå‰›æ‰çš„æ¸¬è©¦è³‡æ–™
   - å¯ä»¥é»æ“Šã€Œ**åŒ¯å‡º CSV**ã€ä¸‹è¼‰è³‡æ–™

âœ… **ç¬¬ 5 æ­¥å®Œæˆï¼**

---

## ğŸ‰ æ­å–œï¼Firebase è¨­å®šå®Œæˆï¼

æ‰€æœ‰ä»»å‹™å·²å®Œæˆï¼š
- âœ… **T005** - Firebase å°ˆæ¡ˆå’Œ Realtime Database å·²å»ºç«‹
- âœ… **T006** - Authentication (Email/Password) å·²å•Ÿç”¨
- âœ… **T007** - ç®¡ç†è€…å¸³è™Ÿå·²å»ºç«‹
- âœ… **T008** - firebase-config.js å·²æ›´æ–°
- âœ… **T012** - Database Rules å·²éƒ¨ç½²
- âœ… **T024** - Firebase é€£ç·šæ¸¬è©¦é€šé

---

## ğŸ“‹ æª¢æŸ¥æ¸…å–®æ‘˜è¦

### å·²å®Œæˆçš„è¨­å®šï¼š
- [x] Firebase å°ˆæ¡ˆï¼š`lantern-festival-longxingtang`
- [x] Realtime Databaseï¼ˆasia-southeast1ï¼‰
- [x] Authentication (Email/Password)
- [x] ç®¡ç†è€…å¸³è™Ÿ
- [x] Web æ‡‰ç”¨ç¨‹å¼è¨»å†Š
- [x] firebase-config.js æ›´æ–°
- [x] Database Rules éƒ¨ç½²
- [x] å ±ååŠŸèƒ½æ¸¬è©¦é€šé
- [x] ç®¡ç†è€…ç™»å…¥æ¸¬è©¦é€šé

### æ‚¨çš„è¨­å®šè³‡è¨Šï¼š
```
Firebase å°ˆæ¡ˆåç¨±: lantern-festival-longxingtang
Database URL: ______________________________________
ç®¡ç†è€… Email: ______________________________________
ç®¡ç†è€…å¯†ç¢¼: ______________________________________
```

---

## ğŸš€ ä¸‹ä¸€æ­¥

ç¾åœ¨æ‚¨çš„ç¶²ç«™å·²ç¶“å®Œå…¨å¯ä»¥é‹ä½œäº†ï¼

å»ºè­°ç¹¼çºŒå®Œæˆï¼š
1. âœ… æº–å‚™å¯¦éš›æ´»å‹•ç…§ç‰‡
2. âœ… æ–°å¢ã€Œè´ŠåŠ©è¡¨å–®ã€åŠŸèƒ½
3. âœ… æ–°å¢ã€Œæ´»å‹•è³‡è¨Šã€é é¢ï¼ˆæ™‚ç¨‹ã€åœ°å€ã€è¯çµ¡æ–¹å¼ï¼‰
4. âœ… æ¸¬è©¦æ‰€æœ‰åŠŸèƒ½ï¼ˆå®Œæ•´ä½¿ç”¨è€…æµç¨‹ï¼‰
5. âœ… éƒ¨ç½²åˆ° Netlify

---

## ğŸ†˜ é‡åˆ°å•é¡Œï¼Ÿ

### å•é¡Œ 1ï¼šConsole é¡¯ç¤ºã€ŒPermission deniedã€
**è§£æ±º**ï¼š
- æª¢æŸ¥ Database Rules æ˜¯å¦æ­£ç¢ºéƒ¨ç½²
- ç¢ºèª `registrations` çš„ `.write` è¦å‰‡å…è¨±åŒ¿åå¯«å…¥

### å•é¡Œ 2ï¼šé¡¯ç¤ºã€ŒFirebase not configuredã€
**è§£æ±º**ï¼š
- ç¢ºèª `firebase-config.js` çš„ `apiKey` ä¸æ˜¯ `"YOUR_API_KEY"`
- é‡æ–°æ•´ç†ç€è¦½å™¨ï¼ˆCtrl+Shift+R å¼·åˆ¶é‡æ–°æ•´ç†ï¼‰

### å•é¡Œ 3ï¼šç„¡æ³•ç™»å…¥ç®¡ç†å¾Œå°
**è§£æ±º**ï¼š
- ç¢ºèª Authentication ä¸­æœ‰å»ºç«‹ä½¿ç”¨è€…
- æª¢æŸ¥ Email å’Œå¯†ç¢¼æ˜¯å¦æ­£ç¢º
- æŸ¥çœ‹ç€è¦½å™¨ Console çš„éŒ¯èª¤è¨Šæ¯

### å•é¡Œ 4ï¼šå ±åå¾Œæ²’æœ‰è³‡æ–™
**è§£æ±º**ï¼š
- æª¢æŸ¥ Database Rules çš„ `.write` è¦å‰‡
- æŸ¥çœ‹ç€è¦½å™¨ Console çš„éŒ¯èª¤è¨Šæ¯
- ç¢ºèª Database URL æ­£ç¢º

---

**å®Œæˆæ—¥æœŸ**ï¼š2025-10-31  
**å°ˆæ¡ˆ**ï¼šå¡­å µé¾èˆˆå ‚115å¹´å…ƒå®µç¯€æ´»å‹•ç¶²ç«™  
**ç‹€æ…‹**ï¼šâœ… Firebase è¨­å®šå®Œæˆï¼Œç¶²ç«™å¯æ­£å¸¸é‹ä½œ
