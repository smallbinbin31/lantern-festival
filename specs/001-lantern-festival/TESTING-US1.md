# 測試指引：User Story 1 - 訪客瀏覽活動資訊

**測試日期**: 2025-10-30  
**測試範圍**: Phase 3 - MVP 核心功能  
**預計時間**: 15-20 分鐘

---

## 📋 測試前準備

### 1. 啟動本地伺服器

**選項 A: Python HTTP Server**
```powershell
cd public
python -m http.server 8000
```
然後開啟瀏覽器前往: `http://localhost:8000`

**選項 B: VS Code Live Server**
1. 右鍵點擊 `public/index.html`
2. 選擇 "Open with Live Server"
3. 瀏覽器自動開啟

**選項 C: Firebase Hosting (本地)**
```powershell
cd firebase
firebase serve
```
然後前往: `http://localhost:5000`

### 2. 準備圖片（暫時可用佔位圖）

如果尚未準備圖片，可以暫時使用線上佔位圖服務：

**方法 1**: 使用 Placeholder.com
將 `app.js` 中的圖片路徑暫時改為：
```javascript
<img src="https://via.placeholder.com/1200x600/d32f2f/ffffff?text=傳統乞龜活動" alt="...">
```

**方法 2**: 建立簡單的 SVG 佔位圖
參考 `public/images/placeholder-guide.md`

**方法 3**: 跳過圖片測試
圖片載入失敗不影響功能測試，只是會顯示 alt 文字

---

## ✅ T035: 測試五個主題分頁切換功能

### 測試步驟

1. **開啟網站首頁**
   - [ ] 頁面正常載入，無 console 錯誤
   - [ ] 顯示「塭堵龍興堂115年元宵節活動」標題
   - [ ] 顯示「歡迎參加...」英雄區塊
   - [ ] 顯示 5 個主題卡片

2. **測試導覽列**
   - [ ] 導覽列顯示 6 個分頁（首頁 + 5 主題）
   - [ ] 「首頁」分頁預設為 active 狀態（紅色背景）
   - [ ] 滑鼠懸停其他分頁有 hover 效果

3. **測試主題切換 - 傳統乞龜**
   - [ ] 點擊「傳統乞龜」分頁
   - [ ] URL 變更為 `#qigui`
   - [ ] 「傳統乞龜」分頁變為 active
   - [ ] 顯示傳統乞龜活動內容
   - [ ] 顯示 2 個子主題卡片（介紹、報名）
   - [ ] 頁面滾動到頂部

4. **測試主題切換 - 擲筊杯競賽**
   - [ ] 點擊「擲筊杯競賽」分頁
   - [ ] URL 變更為 `#dice`
   - [ ] 顯示擲筊杯活動內容
   - [ ] 顯示活動詳情（時間、地點、獎品、規則）

5. **測試主題切換 - 廟會模型展**
   - [ ] 點擊「廟會模型展」分頁
   - [ ] URL 變更為 `#model`
   - [ ] 顯示模型展覽內容
   - [ ] 顯示展覽特色（規模、內容、時間、費用）

6. **測試主題切換 - 龍興市集**
   - [ ] 點擊「龍興市集」分頁
   - [ ] URL 變更為 `#market`
   - [ ] 顯示市集內容
   - [ ] 顯示市集亮點（美食、文創、時間、攤位）

7. **測試主題切換 - 觀音燈會**
   - [ ] 點擊「觀音燈會」分頁
   - [ ] URL 變更為 `#lantern`
   - [ ] 顯示燈會內容
   - [ ] 顯示燈會特色（主題、規模、時間、亮點）

8. **測試返回首頁**
   - [ ] 點擊「首頁」分頁
   - [ ] URL 變更為 `#home` 或空白
   - [ ] 返回首頁顯示 5 個主題卡片

9. **測試瀏覽器前進/後退**
   - [ ] 點擊瀏覽器「上一頁」按鈕
   - [ ] 頁面正確返回前一個主題
   - [ ] 點擊「下一頁」按鈕正常前進

10. **測試直接 URL 訪問**
    - [ ] 在網址列輸入 `http://localhost:8000/#dice`
    - [ ] 直接開啟擲筊杯頁面
    - [ ] 重新整理頁面後仍停留在同一主題

### 預期結果

- ✅ 所有分頁切換流暢，無延遲
- ✅ URL hash 正確更新
- ✅ 導覽列 active 狀態正確切換
- ✅ 內容正確顯示，無重複或錯位
- ✅ Console 無錯誤訊息

### 發現問題記錄

| 問題編號 | 描述 | 嚴重性 | 狀態 |
|---------|------|--------|------|
| - | - | - | - |

---

## 📱 T036: 測試響應式設計

### 測試步驟

**使用 Chrome DevTools**:
1. 按 `F12` 開啟開發者工具
2. 點擊「Toggle device toolbar」圖示（或按 `Ctrl+Shift+M`）
3. 選擇不同裝置模擬

### 1. 手機檢視（寬度 < 576px）

**測試裝置**: iPhone SE (375px)

- [ ] **Header**:
  - Logo 正常顯示（60x60px）
  - 標題文字縮小但可讀
  - 管理者按鈕縮小且文字正常

- [ ] **導覽列**:
  - 分頁可左右滑動
  - 底部顯示滾動條指示
  - 當前分頁可見

- [ ] **首頁**:
  - 主題卡片單欄顯示（1 column）
  - 卡片寬度填滿螢幕（減去 padding）
  - 圖片正常顯示
  - 按鈕可點擊

- [ ] **主題頁面**:
  - 內容文字大小適中
  - 活動詳情列表正常排版
  - 無橫向滾動

### 2. 平板檢視（768px - 992px）

**測試裝置**: iPad (768px)

- [ ] **首頁**:
  - 主題卡片 2 欄顯示（2 columns）
  - 卡片間距適當

- [ ] **導覽列**:
  - 所有分頁可見，無需滑動
  - 分頁居中對齊

- [ ] **內容區域**:
  - 文字大小增加
  - 圖片適當縮放

### 3. 桌機檢視（> 992px）

**測試裝置**: Desktop (1200px)

- [ ] **首頁**:
  - 主題卡片 3 欄顯示（3 columns）
  - 最大寬度 1200px，內容居中

- [ ] **Header**:
  - Logo、標題、按鈕排列平衡
  - 有充足的空白空間

- [ ] **主題頁面**:
  - 圖片高度增加至 250px
  - 文字和圖片排版舒適

### 4. 橫向模式測試

- [ ] 手機橫向（667x375）正常顯示
- [ ] 平板橫向（1024x768）正常顯示
- [ ] 無內容被裁切

### 預期結果

- ✅ 所有斷點切換平順
- ✅ 無元素重疊或破版
- ✅ 文字大小在各裝置上可讀
- ✅ 按鈕和連結容易點擊（至少 44x44px）
- ✅ 圖片正確縮放，不變形

### 發現問題記錄

| 裝置 | 問題描述 | 嚴重性 | 狀態 |
|------|---------|--------|------|
| - | - | - | - |

---

## ⚡ T037: 優化首次載入效能

### 測試步驟

**使用 Chrome DevTools Performance 工具**:

1. 按 `F12` 開啟開發者工具
2. 切換到「Network」分頁
3. 勾選「Disable cache」
4. 重新整理頁面（`Ctrl+Shift+R`）

### 效能指標

記錄以下數值：

| 指標 | 目標值 | 實際值 | 狀態 |
|------|--------|--------|------|
| 頁面載入時間 | < 3 秒 | ___ 秒 | ⏳ |
| DOMContentLoaded | < 1 秒 | ___ 秒 | ⏳ |
| 總資源大小 | < 2 MB | ___ MB | ⏳ |
| 請求數量 | < 20 個 | ___ 個 | ⏳ |
| 首次內容繪製 (FCP) | < 1.5 秒 | ___ 秒 | ⏳ |
| 最大內容繪製 (LCP) | < 2.5 秒 | ___ 秒 | ⏳ |

### 資源檢查

- [ ] **HTML** (index.html):
  - 大小: _____ KB
  - 載入時間: _____ ms

- [ ] **CSS** (main.css):
  - 大小: _____ KB
  - 載入時間: _____ ms

- [ ] **JavaScript**:
  - firebase-config.js: _____ KB
  - utils.js: _____ KB
  - app.js: _____ KB
  - Firebase SDK (CDN): _____ KB

- [ ] **圖片** (如已放置):
  - logo.webp: _____ KB
  - theme-qigui.webp: _____ KB
  - theme-dice.webp: _____ KB
  - theme-model.webp: _____ KB
  - theme-market.webp: _____ KB
  - theme-lantern.webp: _____ KB

### 優化建議（若需要）

**如果載入時間 > 3 秒**:

1. **圖片優化**:
   ```powershell
   # 使用線上工具壓縮: https://squoosh.app/
   # 或使用 cwebp 指令:
   cwebp -q 80 input.jpg -o output.webp
   ```
   - 目標: 每張圖 < 100KB

2. **CSS 最小化** (生產環境):
   ```powershell
   # 使用線上工具: https://cssminifier.com/
   # 或 npm package:
   npm install -g clean-css-cli
   cleancss -o main.min.css main.css
   ```

3. **JavaScript 最小化** (生產環境):
   ```powershell
   # 使用線上工具: https://javascript-minifier.com/
   # 或 terser:
   npm install -g terser
   terser app.js -o app.min.js
   ```

4. **啟用 Gzip 壓縮**:
   - Netlify 自動啟用
   - Firebase Hosting 自動啟用

### 預期結果

- ✅ 頁面載入流暢
- ✅ 無明顯延遲或卡頓
- ✅ 圖片逐步載入（Lazy Loading 生效）
- ✅ 所有資源成功載入（無 404 錯誤）

---

## 🎯 測試總結

### User Story 1 驗收標準

根據 `spec.md` 中的 Acceptance Scenarios：

#### Scenario 1: 首頁顯示
- [ ] ✅ 訪客開啟網站首頁
- [ ] ✅ 頁面載入完成
- [ ] ✅ 顯示「塭堵龍興堂115年元宵節活動」標題
- [ ] ✅ 顯示五個主題分頁選項

#### Scenario 2: 主題切換
- [ ] ✅ 訪客在首頁
- [ ] ✅ 點擊任一主題分頁（如「傳統乞龜活動」）
- [ ] ✅ 頁面切換至該主題內容頁面

#### Scenario 3: 分頁間切換
- [ ] ✅ 訪客在任一主題頁面
- [ ] ✅ 切換至其他主題分頁
- [ ] ✅ 頁面順利切換且內容正確顯示

#### Scenario 4: 響應式設計
- [ ] ✅ 訪客在手機或平板上瀏覽
- [ ] ✅ 開啟網站
- [ ] ✅ 網站正常顯示且分頁可正常操作

### 整體評分

| 類別 | 分數 (1-5) | 備註 |
|------|-----------|------|
| 功能完整性 | ___ / 5 | |
| 使用者體驗 | ___ / 5 | |
| 響應式設計 | ___ / 5 | |
| 效能表現 | ___ / 5 | |
| 程式碼品質 | ___ / 5 | |

**總分**: ___ / 25

### 通過標準
- ✅ **通過**: 總分 ≥ 20 分，所有驗收標準達成
- ⚠️ **有條件通過**: 總分 15-19 分，需修正部分問題
- ❌ **不通過**: 總分 < 15 分，需重大修正

---

## 📝 測試完成簽核

- **測試執行人**: _______________
- **測試日期**: _______________
- **測試結果**: [ ] 通過 / [ ] 有條件通過 / [ ] 不通過
- **備註**: _______________

---

**下一步**: 
- 如通過 → 進入 Phase 4 (User Story 2)
- 如不通過 → 根據問題記錄進行修正
